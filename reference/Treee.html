<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Classification Trees with Uncorrelated Linear Discriminant Analysis Terminal Nodes — Treee • LDATree</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Classification Trees with Uncorrelated Linear Discriminant Analysis Terminal Nodes — Treee"><meta name="description" content="This function fits a classification tree where each node has a Uncorrelated
Linear Discriminant Analysis (ULDA) model. It can also handle missing values
and perform downsampling. The resulting tree can be pruned either through
pre-pruning or post-pruning methods."><meta property="og:description" content="This function fits a classification tree where each node has a Uncorrelated
Linear Discriminant Analysis (ULDA) model. It can also handle missing values
and perform downsampling. The resulting tree can be pruned either through
pre-pruning or post-pruning methods."><meta property="og:image" content="http://iamwangsiyu.com/LDATree/logo.png"><!-- dependencies from examples --><script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet"><script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">LDATree</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/LDATree.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Moran79/LDATree/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Classification Trees with Uncorrelated Linear Discriminant Analysis Terminal Nodes</h1>
      <small class="dont-index">Source: <a href="https://github.com/Moran79/LDATree/blob/v0.2.0/R/Treee.R" class="external-link"><code>R/Treee.R</code></a></small>
      <div class="d-none name"><code>Treee.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function fits a classification tree where each node has a Uncorrelated
Linear Discriminant Analysis (ULDA) model. It can also handle missing values
and perform downsampling. The resulting tree can be pruned either through
pre-pruning or post-pruning methods.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Treee</span><span class="op">(</span></span>
<span>  <span class="va">datX</span>,</span>
<span>  <span class="va">response</span>,</span>
<span>  ldaType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"forward"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>  nodeModel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ULDA"</span>, <span class="st">"mode"</span><span class="op">)</span>,</span>
<span>  pruneMethod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pre"</span>, <span class="st">"post"</span><span class="op">)</span>,</span>
<span>  numberOfPruning <span class="op">=</span> <span class="fl">10L</span>,</span>
<span>  maxTreeLevel <span class="op">=</span> <span class="fl">20L</span>,</span>
<span>  minNodeSize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pThreshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  misClassCost <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  missingMethod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"medianFlag"</span>, <span class="st">"newLevel"</span><span class="op">)</span>,</span>
<span>  kSample <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-datx">datX<a class="anchor" aria-label="anchor" href="#arg-datx"></a></dt>
<dd><p>A data frame of predictor variables.</p></dd>


<dt id="arg-response">response<a class="anchor" aria-label="anchor" href="#arg-response"></a></dt>
<dd><p>A vector of response values corresponding to <code>datX</code>.</p></dd>


<dt id="arg-ldatype">ldaType<a class="anchor" aria-label="anchor" href="#arg-ldatype"></a></dt>
<dd><p>A character string specifying the type of LDA to use. Options
are <code>"forward"</code> for forward ULDA or <code>"all"</code> for full ULDA. Default is
<code>"forward"</code>.</p></dd>


<dt id="arg-nodemodel">nodeModel<a class="anchor" aria-label="anchor" href="#arg-nodemodel"></a></dt>
<dd><p>A character string specifying the type of model used in each
node. Options are <code>"ULDA"</code> for Uncorrelated LDA, or <code>"mode"</code> for predicting
based on the most frequent class. Default is <code>"ULDA"</code>.</p></dd>


<dt id="arg-prunemethod">pruneMethod<a class="anchor" aria-label="anchor" href="#arg-prunemethod"></a></dt>
<dd><p>A character string specifying the pruning method. <code>"pre"</code>
performs pre-pruning based on p-value thresholds, and <code>"post"</code> performs
cross-validation-based post-pruning. Default is <code>"pre"</code>.</p></dd>


<dt id="arg-numberofpruning">numberOfPruning<a class="anchor" aria-label="anchor" href="#arg-numberofpruning"></a></dt>
<dd><p>An integer specifying the number of folds for
cross-validation during post-pruning. Default is <code>10</code>.</p></dd>


<dt id="arg-maxtreelevel">maxTreeLevel<a class="anchor" aria-label="anchor" href="#arg-maxtreelevel"></a></dt>
<dd><p>An integer controlling the maximum depth of the tree.
Increasing this value allows for deeper trees with more nodes. Default is
<code>20</code>.</p></dd>


<dt id="arg-minnodesize">minNodeSize<a class="anchor" aria-label="anchor" href="#arg-minnodesize"></a></dt>
<dd><p>An integer controlling the minimum number of samples
required in a node. Setting a higher value may lead to earlier stopping and
smaller trees. If not specified, it defaults to one plus the number of
response classes.</p></dd>


<dt id="arg-pthreshold">pThreshold<a class="anchor" aria-label="anchor" href="#arg-pthreshold"></a></dt>
<dd><p>A numeric value used as a threshold for pre-pruning based
on p-values. Lower values result in more conservative trees. If not
specified, defaults to <code>0.01</code> for pre-pruning and <code>0.6</code> for post-pruning.</p></dd>


<dt id="arg-prior">prior<a class="anchor" aria-label="anchor" href="#arg-prior"></a></dt>
<dd><p>A numeric vector of prior probabilities for each class. If
<code>NULL</code>, the prior is automatically calculated from the data.</p></dd>


<dt id="arg-misclasscost">misClassCost<a class="anchor" aria-label="anchor" href="#arg-misclasscost"></a></dt>
<dd><p>A square matrix \(C\), where each element \(C_{ij}\)
represents the cost of classifying an observation into class \(i\) given
that it truly belongs to class \(j\). If <code>NULL</code>, a default matrix with
equal misclassification costs for all class pairs is used. Default is
<code>NULL</code>.</p></dd>


<dt id="arg-missingmethod">missingMethod<a class="anchor" aria-label="anchor" href="#arg-missingmethod"></a></dt>
<dd><p>A character string specifying how missing values should
be handled. Options include <code>'mean'</code>, <code>'median'</code>, <code>'meanFlag'</code>,
<code>'medianFlag'</code> for numerical variables, and <code>'mode'</code>, <code>'modeFlag'</code>,
<code>'newLevel'</code> for factor variables. <code>'Flag'</code> options indicate whether a
missing flag is added, while <code>'newLevel'</code> replaces missing values with a
new factor level.</p></dd>


<dt id="arg-ksample">kSample<a class="anchor" aria-label="anchor" href="#arg-ksample"></a></dt>
<dd><p>An integer specifying the number of samples to use for
downsampling during tree construction. Set to <code>-1</code> to disable downsampling.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>A logical value. If <code>TRUE</code>, progress messages and detailed
output are printed during tree construction and pruning. Default is
<code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>Treee</code> containing the fitted tree, which is a
list of nodes, each an object of class <code>TreeeNode</code>. Each <code>TreeeNode</code>
contains:</p><ul><li><p><code>currentIndex</code>: The node index in the tree.</p></li>
<li><p><code>currentLevel</code>: The depth of the current node in the tree.</p></li>
<li><p><code>idxRow</code>, <code>idxCol</code>: Row and column indices indicating which part of the original data was used for this node.</p></li>
<li><p><code>currentLoss</code>: The training error for this node.</p></li>
<li><p><code>accuracy</code>: The training accuracy for this node.</p></li>
<li><p><code>stopInfo</code>: Information on why the node stopped growing.</p></li>
<li><p><code>proportions</code>: The observed frequency of each class in this node.</p></li>
<li><p><code>prior</code>: The (adjusted) class prior probabilities used for ULDA or mode prediction.</p></li>
<li><p><code>misClassCost</code>: The misclassification cost matrix used in this node.</p></li>
<li><p><code>parent</code>: The index of the parent node.</p></li>
<li><p><code>children</code>: A vector of indices of this node’s direct children.</p></li>
<li><p><code>splitFun</code>: The splitting function used for this node.</p></li>
<li><p><code>nodeModel</code>: Indicates the model fitted at the node (<code>'ULDA'</code> or <code>'mode'</code>).</p></li>
<li><p><code>nodePredict</code>: The fitted model at the node, either a ULDA object or the plurality class.</p></li>
<li><p><code>alpha</code>: The p-value from a two-sample t-test used to evaluate the strength of the split.</p></li>
<li><p><code>childrenTerminal</code>: A vector of indices representing the terminal nodes that are descendants of this node.</p></li>
<li><p><code>childrenTerminalLoss</code>: The total training error accumulated from all nodes listed in <code>childrenTerminal</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Wang, S. (2024). FoLDTree: A ULDA-Based Decision Tree Framework
for Efficient Oblique Splits and Feature Selection. <em>arXiv preprint
arXiv:2410.23147</em>. Available at <a href="https://arxiv.org/abs/2410.23147" class="external-link">https://arxiv.org/abs/2410.23147</a>.</p>
<p>Wang, S. (2024). A New Forward Discriminant Analysis Framework Based On
Pillai's Trace and ULDA. <em>arXiv preprint arXiv:2409.03136</em>. Available
at <a href="https://arxiv.org/abs/2409.03136" class="external-link">https://arxiv.org/abs/2409.03136</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">Treee</span><span class="op">(</span>datX <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="op">-</span><span class="fl">5</span><span class="op">]</span>, response <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="fl">5</span><span class="op">]</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Use cross-validation to prune the tree</span></span></span>
<span class="r-in"><span><span class="va">fitCV</span> <span class="op">&lt;-</span> <span class="fu">Treee</span><span class="op">(</span>datX <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="op">-</span><span class="fl">5</span><span class="op">]</span>, response <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="fl">5</span><span class="op">]</span>, pruneMethod <span class="op">=</span> <span class="st">"post"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit</span>, <span class="va">iris</span><span class="op">)</span><span class="op">)</span> <span class="co"># prediction</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "setosa" "setosa" "setosa" "setosa" "setosa" "setosa"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span> <span class="co"># plot the overall tree</span></span></span>
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:600px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"nodes":{"id":[1],"title":["#### Information Panel: Node 1 #### <\/br>There are 150 data in this node <\/br>The resubstitution acc is  0.98 <\/br>Plurality class (33.33%) is setosa <\/br>The model in this node is  ULDA <\/br>stopInfo: Split is not significant <\/br>Pillai's trace is  1.19 <\/br>MANOVA p value is  1.926e-54 <\/br>Gini Index is  6.666e-01 <\/br>Splitting p value is  5e-01"],"value":[5.010635294096256],"level":[0],"group":["setosa"],"label":["147 / 150\nNode 1"],"shadow":[true]},"edges":null,"nodesToDataframe":true,"edgesToDataframe":false,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"layout":{"hierarchical":{"enabled":true,"levelSeparation":100}},"interaction":{"dragNodes":false,"dragView":true,"zoomView":true,"zoomSpeed":1},"groups":{"setosa":{"color":"#4B0055"},"versicolor":{"color":"#009B95"},"useDefaultGroups":true,"virginica":{"color":"#FDE333"}}},"groups":["setosa"],"width":"100%","height":"600px","idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","legend":{"width":0.1,"useGroups":false,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":[{"label":"setosa","shape":"dot","color":"#4B0055"},{"label":"versicolor","shape":"dot","color":"#009B95"},{"label":"virginica","shape":"dot","color":"#FDE333"}],"nodesToDataframe":false,"main":{"text":"Class","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:14px;text-align:center;"}}},"evals":[],"jsHooks":[]}</script><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit</span>, datX <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="op">-</span><span class="fl">5</span><span class="op">]</span>, response <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="fl">5</span><span class="op">]</span>, node <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># plot a certain node</span></span></span>
<span class="r-plt img"><img src="Treee-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Siyu Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

